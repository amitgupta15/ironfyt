<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Log</title>
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <form class="form-container">
      <div class="form-flex-group margin-bottom-15px">
        <label class="switch form-group-label">
          <input type="checkbox" id="duration-switch" />
          <span class="slider round"></span>
        </label>
        <div class="form-flex-group">
          <div class="form-input-group show-time-separator">
            <input type="number" class="form-input duration-input" name="wolog-duration-hours" id="wolog-duration-hours" min="0" max="240" value="${workoutlog.duration && workoutlog.duration.hours ? workoutlog.duration.hours : ''}" placeholder="H" disabled />
            <label for="wolog-duration-hours" class="form-label duration-label">H</label>
          </div>
          <div class="form-input-group show-time-separator">
            <input type="number" class="form-input duration-input" name="wolog-duration-minutes" id="wolog-duration-minutes" min="0" max="59" value="${workoutlog.duration && workoutlog.duration.minutes ? workoutlog.duration.minutes : ''}" placeholder="M" disabled />
            <label for="wolog-duration-minutes" class="form-label duration-label">M</label>
          </div>
          <div class="form-input-group">
            <input type="number" class="form-input duration-input" name="wolog-duration-seconds" id="wolog-duration-seconds" min="0" max="59" value="${workoutlog.duration && workoutlog.duration.seconds ? workoutlog.duration.seconds : ''}" placeholder="S" disabled />
            <label for="wolog-duration-seconds" class="form-label duration-label">S</label>
          </div>
        </div>
      </div>
      <div class="form-flex-group margin-bottom-15px">
        <label class="switch form-group-label">
          <input type="checkbox" id="rounds-switch" />
          <span class="slider round"></span>
        </label>
        <div class="form-input-group">
          <input type="number" class="form-input rounds-input" name="wolog-rounds" id="wolog-rounds" value="" placeholder="Rounds" disabled />
          <label for="wolog-rounds" class="form-label rounds-label">Rounds</label>
        </div>
      </div>
      <div class="form-flex-group">
        <label class="switch form-group-label">
          <input type="checkbox" id="exercise-switch" />
          <span class="slider round"></span>
        </label>
        <div>
          <div class="form-input-group">
            <input type="text" class="form-input" name="wolog-exercise" id="wolog-exericse" placeholder="Add an Exercise..." />
            <label for="wolog-exericse" class="form-label">Add an Exercise...</label>
          </div>
        </div>
      </div>
    </form>
  </body>
  <script>
    function disableField(name) {
      name['disabled'] = true;
      name['value'] = '';
    }

    function enableField(name) {
      name['disabled'] = false;
    }

    function toggleDurationFields() {
      let durationSwitch = document.querySelector('#duration-switch');
      let hourInput = document.querySelector('#wolog-duration-hours');
      let minuteInput = document.querySelector('#wolog-duration-minutes');
      let secondInput = document.querySelector('#wolog-duration-seconds');
      if (durationSwitch.checked) {
        enableField(hourInput);
        enableField(minuteInput);
        enableField(secondInput);
      } else {
        disableField(hourInput);
        disableField(minuteInput);
        disableField(secondInput);
      }
    }
    function toggleRoundsFields() {
      let roundsSwitch = document.querySelector('#rounds-switch');
      let roundsInputField = document.querySelector('#wolog-rounds');
      if (roundsSwitch.checked) {
        enableField(roundsInputField);
      } else {
        disableField(roundsInputField);
      }
    }
    document.addEventListener('click', function (event) {
      if (event.target.id === 'duration-switch') {
        toggleDurationFields();
      }
      if (event.target.id === 'rounds-switch') {
        toggleRoundsFields();
      }
    });
  </script>
</html>
